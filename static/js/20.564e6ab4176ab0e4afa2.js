webpackJsonp([20],{EV1k:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{},data:function(){return{isWX:!1,username:"",UserError:!1,pwd:"",pwdError:!1,isAgree:!1,active:!1,isClick:!0,time:60,second:0,phone:"",code:"",phonehint:"请输入手机号",codehint:"请输入您的验证码",popup:{width:"",height:"",position:"fixed",top:0,left:0,background:"rgb(0,0,0,0.6)",zIndex:9999},logisticsDetails:!1,redirectUrl:null}},mounted:function(){this.popup.width=window.innerWidth+"px",this.popup.height=window.innerHeight+"px",this.redirectUrl=this.$route.query.redirectUrl,console.log(this.$route),console.log(this.redirectUrl);try{void 0!=this.redirectUrl&&this.$router.push({path:this.redirectUrl})}catch(e){console.log(e),this.$router.push("/index")}this.$nextTick(function(){})},watch:{$route:function(e,t){"/weixinLogin"===t.path&&this.$message({type:"error",message:"微信登录失败！"})}},methods:{agreeMent:function(){this.logisticsDetails=!0},closeConfirmone:function(){this.logisticsDetails=!1},logobtn:function(){this.$router.push("./")},showPwdLogin:function(){this.active=!1,this.isWX=!1},phoneBlur:function(){return""==this.phone?(this.$message({message:"请输入手机号"}),void(this.UserError=!0)):/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone)?(this.phonehint="",void(this.UserError=!1)):(this.$message.error({message:"手机号码不正确"}),void(this.UserError=!0))},getCode:function(){var e=this;""!=this.phone?/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone)?this.isClick&&(this.second=60,this.$postAxios({url:"/mall/VerificationCode",method:"post",data:"mobile="+e.phone}).then(function(t){if(console.log(t.data),2e4==t.data.code)console.log("请重新刷");else if(1e4==t.data.code){localStorage.setItem("mobile",t.data.extend.resp.mobile),console.log(t.data.extend.resp.varCode);var s=setInterval(function(){e.time--,e.isClick=!1,0==e.time&&(clearInterval(s),e.time=60,e.isClick=!0)},1e3)}}).catch(function(e){console.log(e)})):e.$message.error({message:"手机号码不正确"}):e.$message({message:"请输入手机号"})},pwdBlur:function(){return""==this.code?(this.$message({message:"请输入验证码"}),void(this.pwdError=!0)):/^(\w){6}$/.test(this.code)?void(this.pwdError=!1):(this.$message.error({message:"验证码位数不正确"}),void(this.pwdError=!0))},showPwd:function(){this.pwdType=!this.pwdType},login:function(){var e=this;""!=this.phone?/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone)?""!=this.code?/^(\w){6}$/.test(this.code)?this.$postAxios({url:"/mall/pclogin",method:"post",data:"phone="+e.phone+"&code="+e.code+"&type=0&openid="}).then(function(t){if(console.log(t.data),2e4!=t.data.code){if(1e4==t.data.code){var s=t.data.extend.success.token,i=t.data.extend.success.userId,o=t.data.extend.success.userType;e.$cookies.set("4806dadc9d5788d18e5c7705e7643333","b326",{expires:1/3}),console.log(t.data),e.$cookies.set("token",s,{expires:1/12}),e.$cookies.set("userId",i,{expires:1/12}),e.$cookies.set("tel",e.phone,{expires:1/12}),e.$cookies.set("userType",o,{expires:1/12}),e.$router.push("/index")}}else e.$message.error({message:t.data.extend.err_code})}).catch(function(e){console.log(e)}):e.$message.error({message:"验证码位数不正确"}):e.$message({message:"请输入验证码"}):e.$message.error({message:"手机号码不正确"}):e.$message({message:"请输入手机号"})},isShowUserError:function(){""!=this.username?this.UserError=!1:this.UserError=!0},agree:function(){this.isAgree=!this.isAgree},isShowPwdError:function(){/^[\da-zA-Z]{6,18}$/.test(this.pwd)?this.pwdError=!1:this.pwdError=!0}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.$route.meta.title,expression:"$route.meta.title"}],staticClass:"login"},[i("div",{staticClass:"warp"},[i("div",{staticClass:"top"},[i("img",{staticStyle:{cursor:"pointer"},attrs:{src:s("2zTZ"),alt:""},on:{click:e.logobtn}}),e._v(" "),i("p",{staticClass:"fr toptxt"})]),e._v(" "),i("div",{staticClass:"middle"},[e._m(0),e._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"frombox"},[i("div",[e._m(1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isWX,expression:"!isWX"}]},[i("div",{staticClass:"box"},[e._m(2),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",name:"username",placeholder:"请输入手机号,未注册将自动注册",maxlength:"11"},domProps:{value:e.phone},on:{blur:e.phoneBlur,input:function(t){t.target.composing||(e.phone=t.target.value)}}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.UserError,expression:"UserError"}]},[e._v(e._s(e.phonehint))])]),e._v(" "),i("div",{staticClass:"box"},[e._m(3),e._v(" "),e.isClick?i("button",{staticClass:"codebtn",on:{click:e.getCode}},[e._v("获取验证码")]):e._e(),e._v(" "),e.isClick?e._e():i("button",{staticClass:"codebtn"},[e._v(e._s(e.time))]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",name:"username",placeholder:"获取验证码"},domProps:{value:e.code},on:{blur:e.pwdBlur,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null},input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.pwdError,expression:"pwdError"}]},[e._v(e._s(e.codehint))])]),e._v(" "),i("div",{staticClass:"box2"},[e._v("\n                                提示： 未注册民信账号的手机号，登录时将自动注册民信账号，且代表您已同意"),i("span",{on:{click:e.agreeMent}},[e._v("《网站协议》")])]),e._v(" "),i("div",{staticClass:"box1"},[i("span",{staticClass:"login",on:{click:e.login}},[e._v("登录")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isWX,expression:"isWX"}]},[i("h4",{staticClass:"title"},[e._v("扫码登陆更安全")]),e._v(" "),i("div",{attrs:{id:"qrcode"}})])])])])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.logisticsDetails,expression:"logisticsDetails"}],style:e.popup},[i("div",{staticClass:"confirmReceiptone confirmReceipt1one"},[i("div",{staticClass:"confirmReceiptTopone"},[i("span",[e._v("网站协议")]),e._v(" "),i("span",{staticClass:"spanxone",on:{click:e.closeConfirmone}},[e._v("x")])]),e._v(" "),e._m(4),e._v(" "),i("div",{staticClass:"confirmReceiptBottom2one"},[i("button",{staticClass:"fr noone",on:{click:e.closeConfirmone}},[e._v("关闭")]),e._v(" "),i("button",{staticClass:"fr yesone",on:{click:e.closeConfirmone}},[e._v("确认")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left"},[t("img",{attrs:{src:s("aMjs"),alt:"",ondragstart:"return false"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card"},[t("span",[this._v("短信验证登录")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"fa fa-address-card-o",attrs:{"aria-hidden":"true"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"confirmReceiptBottomone"},[t("div",{staticClass:"confirmReceiptBottomone-class"},[this._v('\n                民信药房网服务协议 特别提示：\n                在使用民信药房网服务之前，您应当认真阅读并遵守《民信药房网服务协议》（以下简称“本协议”），请您务必审慎阅读、充分理解各条款内容，特别是免除或者限制责任的条款、争议解决和法律适用条款。免除或者限制责任的条款可能将以加粗字体显示，您应重点阅读。\n                当您按照注册页面提示填写信息、阅读并同意本协议且完成全部注册程序后，或您以任何行为实际使用、享受本站的服务，即\n                表示您已充分阅读、理解并接受本协议的全部内容，并与民信药房网的经营者达成协议。您承诺接受并遵守本协议的约定，\n                届时您不应以未阅读本协议的内容主张本协议无效，或要求撤销本协议。如果您不同意本协议，或者对本协议的内容存在疑问，请停止用户注册程序，不要使用本站 服务。\n                本协议是您（或称"用户"）与民信药房网（或称"本站"）的经营者广州民信药业连锁有限公司（简称"民信药业"）共同缔结，本协议具有合\n                同效力。民信药业网上药店平台包括但不限于民信药房网（域名http://c.mxyf365.com)、民信药业掌上药店（含wap站、微商城）等。本协议包括协议正文及所有本站已经发布的或将来可能发布或更新的各类规则，所有规则为本协议不可分割的组成部\n                分，与本协议正文具有同等法律效力。 一、服务协议条款的确认和接纳\n                1.1、本站的各项电子服务的所有权和运作权归民信药业。您必须完全同意所有服务协议条款并完成注册程序，才能成为本站的正式用户。您确认：本服务协议条款是处理双方权利义务的当然约定依据，除非违反国家强制性法律，否则始终有效。\n                1.2、在您提交订单的同时，您也同时承认了您拥有购买这些产品的权利能力和行为能力，并且将对您在订单中提供的所有信息的真实性负责。如果您在18周岁以下，您只能在父母或监护人的监护参与下才能使用本站。\n                1.3、民信药业保留在中华人民共和国大陆地区法施行之法律允许的范围内独自决定拒绝服务、关闭用户账户、清除或编辑内容或取消订单的权利。 二、用户注册条款\n                2.1、用户应自行诚信向本站提供注册资料，用户同意其提供的注册资料真实、准确、完整、合法有效，用户注册资料如有变动的，应及时更新其注册资\n                料。如果用户提供的注册资料不合法、不真实、不准确、不详尽的，用户需承担因此引起的相应责任及后果，并且民信药业保留终止用户使用本站各项服务的权利。\n                2.2、用户在本站进行浏览、下单购物等活动时，涉及用户真实姓名/名称、通信地址、联系电话、电子邮箱等隐私信息的，民信药业将予以严格保密，除非得到用户的授权或法律另有规定，民信药业不会向外界披露用户隐私信息。\n                2.3用户注册成功后，将产生用户名和密码等账户信息，用户可以根据本站规定改变用户的密码。用户应谨慎合理的保存、使用其用户名和密码。用户若发现任何非法使用用户账号或存在安全漏洞的情况，请立即通知本站并向公安机关报案。\n                2.4用户同意，民信药业拥有通过邮件、短信电话等形式，向在本站注册、购物用户、收货人发送订单信息、促销活动等告知信息的权利。\n                2.5用户同意，民信药业有权使用用户的注册信息、用户名、密码等信息，登录进入用户的注册账户，进行证据保全，包括但不限于公证、见证等。\n                2.6依据国家相关法律法规规章，用户同意严格遵守以下义务，若用户未遵守，民信药业有权作出独立判断并采取暂停用户权限直至注销用户的用户账户等措施，并且用户须对自己的言论和行为承担法律责任：\n                (1)不得传输或发表：煽动抗拒、破坏宪法和法律、行政法规实施的言论，煽动颠覆国家政权，推翻社会主义制度的言论，煽动分裂国家、破坏国家统一的的言论，煽动民族仇恨、民族歧视、破坏民族团结的言论；\n                (2)从中国大陆向境外传输资料信息时必须符合中国有关法律法规； (3)不得利用本网站从事洗钱、窃取商业秘密、窃取个人信息等违法犯罪活动；\n                (4)不得干扰本网站的正常运转，不得侵入本网站及国家计算机信息系统； (5)不得传输或发表任何违法犯罪的、骚扰性的、中伤他人的、辱骂性的、恐吓性的、伤害性的、庸俗的、淫秽的、不文明的等信息资料；\n                (6)不得传输或发表损害国家社会公共利益和涉及国家安全的信息资料或言论； (7)不得教唆他人从事本条所禁止的行为； (8)不得利用在本网站注册的账户进行牟利性经营活动（如批发、炒货、转卖）；\n                (9)不得发布任何侵犯他人著作权、商标权等知识产权及其他合法权利的内容。 2.7通过参与本站活动，用户也可能会获得积分、电子券。积分和电子券都具有特定的使用规则和有效期，逾期将被清零；\n                请用户不时关注用户的电子券有效期，在电子券有效期届满前，本站不再另行作特别通知；本站不对逾期清零的积分和电子券负责。对于恶意购买和不正当手段获得\n                的积分和电子券，本站有权作出独立判断并采取冻结用户的用户账户或清空积分、电子券的措施。 三、商品信息\n                3.1、本站的商品信息随时有可能发生变动，本站对此不作特别通知。本站将尽合理的商业努力，使网站内展示的商品参数、说明、价格、库存等商品\n                ')])])}]};var n=s("VU/8")(i,o,!1,function(e){s("rlbu")},"data-v-7d044842",null);t.default=n.exports},aMjs:function(e,t,s){e.exports=s.p+"static/img/bejing.6e4b993.jpg"},rlbu:function(e,t){}});