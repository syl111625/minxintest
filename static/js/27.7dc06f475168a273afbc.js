webpackJsonp([27],{ChYf:function(e,t){},wux6:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{th_list:[{title:"商品信息"},{title:"退款金额"},{title:"申请时间"},{title:"退款原因"},{title:"退款类型"},{title:"退款状态"},{title:"交易操作"}],pageSize:10,pageNum:1,totalData:10,goodscentent:[]}},created:function(){this.getRefundData()},mounted:function(){this.$nextTick(function(){})},methods:{getRefundData:function(){var e=this,t={userId:this.$cookies.get("userId"),token:this.$cookies.get("token"),page:this.pageNum,number:this.pageSize};this.$getAxios({url:"/mall/getUserRefundOrders",method:"get",params:t}).then(function(t){var s=t.data.extend.success;console.log(s),e.goodscentent=[];for(var r=0;r<s.length;r++){e.totalData=s[r].orderCount;for(var o={orderSerialNumber:s[r].orderSerialNumber,refundOrderSerialNumber:s[r].refundOrderSerialNumber,refund_total_fee:s[r].refund_total_fee,refundOrderId:s[r].refundOrderId,goods:[],refund_order_status:[],order_close_reason:s[r].order_close_reason},a=0;a<s[r].goods.length;a++){for(var n=s[r].goods[a].name,i="",u=0;u<s[r].goods[a].goods_images.length;u++){i=s[r].goods[a].goods_images[u].imageUrl;break}for(var d="",l="",g=0;g<s[r].goods[a].detailCpropertyVo.length;g++)"【规格】"==s[r].goods[a].detailCpropertyVo[g].cpName&&(d=s[r].goods[a].detailCpropertyVo[g].value),"【厂家】"==s[r].goods[a].detailCpropertyVo[g].cpName&&(l=s[r].goods[a].detailCpropertyVo[g].value);var _={name:n,specName:d,proName:l,goods_images:i};o.goods.push(_)}for(var c=0;c<s[r].refund_order_status.length;c++){var f=new Date(s[r].refund_order_status[c].addTime),p={addTime:e.changeTime(f),refund_type:s[r].refund_type,rosStatus:s[r].refund_order_status[c].rosStatus};0==p.rosStatus?p.rosStatus="退款待处理":1==p.rosStatus?p.rosStatus="已拒绝退款":2==p.rosStatus?p.rosStatus="待买家发货":3==p.rosStatus?p.rosStatus="待商家收货":4==p.rosStatus?p.rosStatus="退款关闭（买家撤销）":5==p.rosStatus&&(p.rosStatus="退款成功"),o.refund_order_status.push(p)}e.goodscentent.push(o)}}),console.log("最终得到的数据-----"),console.log(e.goodscentent)},changeTime:function(e){var t="",s="",r="",o="",a="";return t=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,s=e.getDate()<10?"0"+e.getDate():e.getDate(),r=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds(),e.getFullYear()+"-"+t+"-"+s+"  "+r+":"+o+":"+a},nextPage:function(){this.pageNum++,this.getRefundData()},prePage:function(){this.pageNum<=1?(this.pageNum=1,this.getRefundData()):(this.pageNum--,this.getRefundData())},handleSizeChange:function(e){console.log("改变显示个数"),console.log(e),this.pageSize=e,this.getRefundData()},handleCurrentChange:function(e){console.log("改变页码"),console.log(e),this.pageNum=e,this.getRefundData()},lookbtn:function(e){this.$cookies.set("refundOrderId",e,{expires:1}),this.$router.push("/details_refund")}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"refund-after"},[s("div",{staticClass:"refund-after-content"},[e._m(0),e._v(" "),s("ul",{staticClass:"content"},[s("li",{staticClass:"title"},[s("ul",e._l(e.th_list,function(t,r){return s("li",{key:r},[e._v(e._s(t.title))])}))]),e._v(" "),e._l(e.goodscentent,function(t,r){return s("li",{key:r,staticClass:"item"},[s("div",{staticClass:"item-title"},[s("span",[e._v("退款编号："+e._s(t.refundOrderSerialNumber))]),e._v(" "),s("span",[e._v("订单编号："+e._s(t.orderSerialNumber))])]),e._v(" "),s("ul",{staticClass:"item-content"},[s("li",[e._l(t.goods,function(e){return s("div",{staticClass:"img"},[s("img",{attrs:{src:e.goods_images,alt:"..."}})])}),e._v(" "),e._l(t.goods,function(t){return s("div",{staticClass:"text"},[s("p",[e._v(e._s(t.name))]),e._v(" "),s("p",[e._v(e._s(t.specName))]),e._v(" "),s("p",[e._v(e._s(t.proName))])])})],2),e._v(" "),s("li",[e._v(e._s(t.refund_total_fee))]),e._v(" "),e._l(t.refund_order_status,function(t){return s("li",[s("p",[e._v(e._s(t.addTime))])])}),e._v(" "),s("li",[e._v(e._s(t.order_close_reason.orderCloseReason))]),e._v(" "),e._l(t.refund_order_status,function(t){return s("li",[e._v(e._s(0==t.refund_type?"仅退款":"退货退款"))])}),e._v(" "),e._l(t.refund_order_status,function(t){return s("li",[e._v(e._s(t.rosStatus))])}),e._v(" "),e._l(t.refund_order_status,function(r){return s("li",[s("span",{on:{click:function(s){e.lookbtn(t.refundOrderId)}}},[e._v("查看详情")])])})],2)])})],2)]),e._v(" "),s("div",{staticClass:"fr btn-father el-pagination-wrapper"},[s("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalData},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("p",[this._v("退款管理")])])}]};var a=s("VU/8")(r,o,!1,function(e){s("ChYf")},"data-v-ba25bb54",null);t.default=a.exports}});