webpackJsonp([31],{Nxkc:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t("bOdI"),c=t.n(o),i={data:function(){return{nones:!0,isif:!1,collectList:[]}},methods:{none:function(){0==this.collectList.length?this.nones=!0:this.nones=!1},manage:function(){this.isif=!this.isif,this.isshow=!1},choose:function(e){this.collectList[e].isCheck=!this.collectList[e].isCheck},add:function(e){for(var s=0;s<this.collectList.length;s++)this.collectList[s].isCheck=!0},remove:function(e){var s=[];for(e=0;e<this.collectList.length;e++)1==this.collectList[e].isCheck&&(console.log(this.collectList[e].collId),s.push(this.collectList[e].collId)),console.log(s);var t="userId="+this.$cookies.get("userId")+"&token="+this.$cookies.get("token")+"&collId[]="+s,o=this;this.$postAxios({url:"/mall//delUserCollecGoods",method:"post",data:t}).then(function(e){2e4!=e.data.code&&1e4==e.data.code&&(console.log("删除成功"),o.none(),o.getcollection(),console.log(o.collectList),console.log(e.data))}).catch(function(e){console.log(e)})},jump_details:function(e){this.isif||this.$router.push("/product_details/"+e.goodId)},getcollection:function(){var e=this;this.$getAxios({url:"/mall/getUserCollecGoods",method:"get",params:{userId:this.$cookies.get("userId"),token:this.$cookies.get("token"),tel:this.$cookies.get("tel"),userType:1}}).then(function(s){if(2e4==s.data.code)console.log(s.data.msg);else if(1e4==s.data.code)if(console.log(s.data),e.collectList=[],0==s.data.extend.success.length?e.nones=!0:e.nones=!1,0==s.data.extend.success.length||null==s.data.extend.success);else for(var o=0;o<s.data.extend.success.length;o++){var i,n=(i={addTime:s.data.extend.success[o].addTime,collId:s.data.extend.success[o].id,goodId:s.data.extend.success[o].goods.goodId,name:s.data.extend.success[o].goods.name},c()(i,"name",s.data.extend.success[o].goods.name),c()(i,"deteleCheck",!1),c()(i,"isCheck",!1),c()(i,"check",!0),i);1==s.data.extend.success[o].goods.isShelf?n.invalidCheck=!0:n.invalidCheck=!1,"b326b5062b2f0e69046810717534cb09"==e.$cookies.get("4806dadc9d5788d18e5c7705e7643333")?n.price=s.data.extend.success[o].goods.tradePrice:n.price=s.data.extend.success[o].goods.memberPrice,0==n.price?n.price="审核后显示":n.price="￥"+n.price,n.imageUrl="";for(var a=0;a<s.data.extend.success[o].goods.goods_images.length;a++)1==s.data.extend.success[o].goods.goods_images[a].isHead&&(n.imageUrl=s.data.extend.success[o].goods.goods_images[a].imageUrl),""==n.imageUrl&&(n.imageUrl=t("ADp8"));console.log(n),e.collectList.push(n),console.log(e.collectList),e.none()}}).catch(function(e){console.log(e)})}},mounted:function(){this.getcollection()}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"my_collection",attrs:{id:"my_collection"}},[t("div",{staticClass:"collection-information"},[t("div",{staticClass:"headbox"},[t("div",{staticClass:"fl head-left"},[e._v("全部商品")]),e._v(" "),t("button",{staticClass:"fr head-right",on:{click:e.manage}},[e._v("批量管理")])]),e._v(" "),t("div",{staticClass:"collectionbox"},[e.nones?t("div",{staticClass:"none"},[e._v("\n        无收藏\n      ")]):e._e(),e._v(" "),e._l(e.collectList,function(s,o){return t("div",{staticClass:"collection",on:{click:function(t){e.jump_details(s)}}},[t("div",{staticClass:"choosebox"},[e.isif?t("div",{staticClass:"fr choose",on:{click:function(s){e.choose(o)}}},[s.isCheck?t("span",{staticClass:"fa fa-check innerchoose"}):e._e()]):e._e()]),e._v(" "),t("img",{attrs:{src:s.imageUrl}}),e._v(" "),t("div",{staticClass:"collection_txt"},[t("span",{staticClass:"goodsname"},[e._v(e._s(s.name))]),e._v(" "),t("span",{staticClass:"redprice"},[e._v(e._s(s.price))])]),e._v(" "),e.isif?t("button",{staticClass:"allbtn",on:{click:function(s){e.add(o)}}},[e._v("全选")]):e._e(),e._v(" "),e.isif?t("button",{staticClass:"removebtn",on:{click:function(s){e.remove()}}},[e._v("删除")]):e._e()])})],2)])])},staticRenderFns:[]};var a=t("VU/8")(i,n,!1,function(e){t("oeaU")},"data-v-9706b70a",null);s.default=a.exports},oeaU:function(e,s){}});